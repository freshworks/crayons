<!DOCTYPE html>
<html dir="ltr" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=5.0"
    />
    <title>Form Builder</title>

    <script type="module" src="/build/crayons-custom-objects.esm.js"></script>
    <script nomodule src="/build/crayons-custom-objects.js"></script>
  </head>

  <body>
    <!-- <div
      style="
        width: 100%;
        height: 90vh;
        box-sizing: border-box;
        display: flex;
        flex-direction: column;
        gap: 40px;
      "
    >
      <div
        style="
          width: 100%;
          height: auto;
          box-sizing: border-box;
          display: flex;
          justify-content: flex-end;
          padding: 0 24px;
          gap: 24px;
        "
      >
        <fw-tabs id="tabProducts">
          <fw-tab slot="tab">CONVERSATION PROPERTIES</fw-tab>
          <fw-tab slot="tab">CUSTOM OBJECTS</fw-tab>
        </fw-tabs>
      </div>
      <div
        style="
          width: 100%;
          height: 100%;
          box-sizing: border-box;
          background: #ffffff;
          border: 1px solid rgba(207, 215, 223, 0.4);
          box-shadow: 0px 4px 4px rgba(209, 209, 209, 0.4);
          border-radius: 2px;
          overflow: hidden;
        "
      >
        <fw-form-builder id="formBuilder"></fw-form-builder>
      </div>
    </div>

    <script type="application/javascript">
      var productName = 'CONVERSATION_PROPERTIES';
      var customizeWidgetFields = [];

      var formValues = {
        name: 'Company-Association-test',
        prefix: '_29',
        title: null,
        description: 'Company-Association-test',
        version: 4,
        deleted: false,
        id: 5938,
        form_options: {},
        created_time: 1659001461188,
        updated_time: 1659004708385,
        icon_link: 'https://d2lz1e868xzctj.cloudfront.net/icons/Accounts.svg',
        fields: [
          {
            id: '24a9531c-3c71-463e-9c63-8991396fde95',
            name: 'companyassociationtestname',
            label: 'Hotel Name',
            type: 'PRIMARY',
            position: 1,
            required: true,
            editable: true,
            visible: true,
            deleted: false,
            placeholder: null,
            hint: null,
            field_options: {
              _analytic: 'true',
              _primary: 'true',
              unique: 'true',
            },
            filterable: true,
            searchable: true,
            parent_id: null,
            choices: [],
          },
          {
            id: 'eea9ed82-af63-43b2-aef0-a7e8de0f8607',
            name: 'companytest',
            label: 'Location',
            type: 'RELATIONSHIP',
            position: 2,
            required: false,
            editable: true,
            visible: true,
            deleted: false,
            placeholder: null,
            hint: null,
            field_options: {
              _analytic: 'true',
              related_object_type: 'NATIVE',
              unique: 'false',
            },
            filterable: true,
            searchable: false,
            parent_id: null,
            related_entity_id: 3,
            relationship_name: 'companytest',
            child_relationship_name: 'companyassociationtest_1659004707038',
            choices: [],
          },
          {
            id: '3f2235be-b18a-443f-9944-c9ae10195e97',
            name: 'contactname',
            label: 'Booking',
            type: 'RELATIONSHIP',
            position: 3,
            required: false,
            editable: true,
            visible: true,
            deleted: false,
            placeholder: null,
            hint: null,
            field_options: {
              _analytic: 'true',
              related_object_type: 'NATIVE',
              unique: 'false',
            },
            filterable: true,
            searchable: false,
            parent_id: null,
            related_entity_id: 2,
            relationship_name: 'contactname',
            child_relationship_name: 'companyassociationtest_1659001527018',
            choices: [],
          },
        ],
      };

      var lookupTargets = [
        {
          value: 1,
          text: 'Ticket',
          isNative: true,
        },
        {
          value: 2,
          text: 'Contact',
          isNative: true,
        },
        {
          value: 4853,
          text: 'Booking ID',
          isNative: false,
        },
        {
          value: 5021,
          text: 'Native-ticket',
          isNative: false,
        },
      ];

      var formValuesConvProps = {
        docId: '34812d27-6455-4eb4-8654-cd2c4cd0ed5d',
        form_id: '0',
        bundle_id: ['555741949072343098'],
        coll_id: 'ConversationForm',
        prod_id: 'freshchat',
        organisation_id: '555741948833267800',
        name: 'Conversation Form',
        account_id: '721079537498489',
        title: 'Conversation Form',
        description: 'This is a conversation form',
        deleted: false,
        active: true,
        compressed: false,
        form_options: {
          unique_attributes: 'name, column_name, label',
        },
        version: 46,
        fields: [
          {
            id: '0395c89a-ff56-49a0-a393-79bf48d8b65c',
            name: 'group',
            column_name: 'group',
            label: 'Group',
            type: 2,
            field_options: {
              reference: 'true',
              option_value_path: 'id',
              option_label_path: 'value',
            },
            custom: false,
            editable: true,
            position: 49,
            deleted: false,
            required: false,
            visible: true,
            column_type_blob: false,
            nodegroup_skip: false,
            validatable: false,
            builder: false,
            internal: false,
            choices: [],
            fields: [],
            regex: {},
            created_at: '2023-03-14 13:20:09',
            updated_at: '2023-03-14 13:20:09',
          },
          {
            id: '4747b941-a2cf-45ef-9118-d4007826fa92',
            name: 'agent',
            column_name: 'agent',
            label: 'Agent',
            type: 2,
            field_options: {
              reference: 'true',
              option_value_path: 'id',
              option_label_path: 'value',
            },
            custom: false,
            editable: true,
            position: 50,
            deleted: false,
            required: false,
            visible: true,
            column_type_blob: false,
            nodegroup_skip: false,
            validatable: false,
            builder: false,
            internal: false,
            choices: [],
            fields: [],
            regex: {},
            created_at: '2023-03-14 13:20:09',
            updated_at: '2023-03-14 13:20:09',
          },
          {
            id: 'e189019d-ac50-4852-a17f-97acf2b05582',
            name: 'status',
            column_name: 'status',
            label: 'Status',
            type: 2,
            field_options: {
              option_value_path: 'id',
              option_label_path: 'value',
            },
            custom: false,
            editable: true,
            position: 51,
            deleted: false,
            required: false,
            visible: true,
            column_type_blob: false,
            nodegroup_skip: false,
            validatable: false,
            builder: false,
            internal: false,
            choices: [
              {
                id: '0',
                account_id: '0',
                internal_name: 'open',
                value: 'Open',
                field_id: 'e189019d-ac50-4852-a17f-97acf2b05582',
                position: 1,
              },
              {
                id: '5',
                account_id: '0',
                internal_name: 'waiting_on_customer',
                value: 'Waiting on customer',
                field_id: 'e189019d-ac50-4852-a17f-97acf2b05582',
                position: 2,
              },
              {
                id: '6',
                account_id: '0',
                internal_name: 'waiting_on_internal_teams',
                value: 'Waiting on internal teams',
                field_id: 'e189019d-ac50-4852-a17f-97acf2b05582',
                position: 3,
              },
              {
                id: '2',
                account_id: '0',
                internal_name: 'resolved',
                value: 'Resolved',
                field_id: 'e189019d-ac50-4852-a17f-97acf2b05582',
                position: 4,
              },
            ],
            fields: [],
            regex: {},
            default_value: '0',
            created_at: '2023-03-14 13:20:09',
            updated_at: '2023-03-14 13:20:09',
          },
          {
            id: '8df0849d-f09a-448b-b697-b3fc864fb133',
            name: 'priority',
            column_name: 'priority',
            label: 'Priority',
            type: 2,
            field_options: {
              option_value_path: 'id',
              option_label_path: 'value',
            },
            custom: false,
            editable: true,
            position: 52,
            deleted: false,
            required: false,
            visible: true,
            column_type_blob: false,
            nodegroup_skip: false,
            validatable: false,
            builder: false,
            internal: false,
            choices: [
              {
                id: '1',
                account_id: '0',
                internal_name: 'low',
                value: 'Low',
                field_id: '8df0849d-f09a-448b-b697-b3fc864fb133',
                position: 1,
              },
              {
                id: '2',
                account_id: '0',
                internal_name: 'medium',
                value: 'Medium',
                field_id: '8df0849d-f09a-448b-b697-b3fc864fb133',
                position: 2,
              },
              {
                id: '3',
                account_id: '0',
                internal_name: 'high',
                value: 'High',
                field_id: '8df0849d-f09a-448b-b697-b3fc864fb133',
                position: 3,
              },
              {
                id: '4',
                account_id: '0',
                internal_name: 'urgent',
                value: 'Urgent',
                field_id: '8df0849d-f09a-448b-b697-b3fc864fb133',
                position: 4,
              },
            ],
            fields: [],
            regex: {},
            default_value: '1',
            created_at: '2023-03-14 13:20:09',
            updated_at: '2023-03-14 13:20:09',
          },
          {
            id: 'b6fafdb8-82be-43cd-82de-3b4b7d48df57',
            name: 'cf_type',
            column_name: 'cf_type',
            label: 'Type',
            type: 2,
            field_options: {
              option_value_path: 'id',
              option_label_path: 'value',
            },
            custom: true,
            editable: true,
            position: 53,
            deleted: false,
            required: false,
            visible: true,
            column_type_blob: false,
            nodegroup_skip: false,
            validatable: false,
            builder: false,
            internal: false,
            choices: [
              {
                id: 'e06ce911-34c5-4643-ae8e-20fa7b12a4b4',
                account_id: '0',
                internal_name: 'general_query',
                value: 'General Query',
                field_id: 'b6fafdb8-82be-43cd-82de-3b4b7d48df57',
                position: 1,
              },
              {
                id: 'e04f8357-081d-4dac-9114-55f167526b8f',
                account_id: '0',
                internal_name: 'technical_query',
                value: 'Technical Query',
                field_id: 'b6fafdb8-82be-43cd-82de-3b4b7d48df57',
                position: 2,
              },
              {
                id: 'f5e48fc2-87b5-4370-b552-ae0329055e9d',
                account_id: '0',
                internal_name: 'feature_request',
                value: 'Feature Request',
                field_id: 'b6fafdb8-82be-43cd-82de-3b4b7d48df57',
                position: 3,
              },
              {
                id: '11ecae26-846f-4428-b67d-354735d3bd22',
                account_id: '0',
                internal_name: 'feedback',
                value: 'Feedback',
                field_id: 'b6fafdb8-82be-43cd-82de-3b4b7d48df57',
                position: 4,
              },
            ],
            fields: [],
            regex: {},
            created_at: '2023-03-14 13:20:09',
            updated_at: '2023-03-14 13:20:09',
          },
          {
            id: '0a3cbca8-6e50-4967-9502-1335ad653f10',
            name: 'cf_Automation_Field_Date20230314200118',
            column_name: 'cf_date001',
            label: 'Automation_Field_Date20230314200118',
            type: 17,
            field_options: {},
            custom: true,
            editable: true,
            position: 54,
            deleted: false,
            required: false,
            visible: true,
            column_type_blob: false,
            nodegroup_skip: false,
            validatable: false,
            builder: false,
            internal: false,
            choices: [],
            fields: [],
            regex: {},
            created_at: '2023-03-14 14:31:20',
            updated_at: '2023-03-14 14:31:20',
          },
          {
            id: 'f646f9c0-47db-4213-9fe7-866a0c4edb2a',
            name: 'cf_Automation_Field_Date20230314200119',
            column_name: 'cf_date002',
            label: 'Automation_Field_Date20230314200119',
            type: 17,
            field_options: {},
            custom: true,
            editable: true,
            position: 55,
            deleted: false,
            required: false,
            visible: true,
            column_type_blob: false,
            nodegroup_skip: false,
            validatable: false,
            builder: false,
            internal: false,
            choices: [],
            fields: [],
            regex: {},
            created_at: '2023-03-14 14:31:21',
            updated_at: '2023-03-14 14:31:21',
          },
          {
            id: '0eb90202-7900-4bcb-b9e6-c22f000932af',
            name: 'cf_Automation_Field_Date20230314200121',
            column_name: 'cf_date003',
            label: 'Automation_Field_Date20230314200121',
            type: 17,
            field_options: {},
            custom: true,
            editable: true,
            position: 56,
            deleted: false,
            required: false,
            visible: true,
            column_type_blob: false,
            nodegroup_skip: false,
            validatable: false,
            builder: false,
            internal: false,
            choices: [],
            fields: [],
            regex: {},
            created_at: '2023-03-14 14:31:22',
            updated_at: '2023-03-14 14:31:22',
          },
          {
            id: 'e2be3db2-9d2b-438f-80e3-2e5ce0b8a1ec',
            name: 'cf_Automation_Field_Date20230314200122',
            column_name: 'cf_date004',
            label: 'Automation_Field_Date20230314200122',
            type: 17,
            field_options: {},
            custom: true,
            editable: true,
            position: 57,
            deleted: false,
            required: false,
            visible: true,
            column_type_blob: false,
            nodegroup_skip: false,
            validatable: false,
            builder: false,
            internal: false,
            choices: [],
            fields: [],
            regex: {},
            created_at: '2023-03-14 14:31:24',
            updated_at: '2023-03-14 14:31:24',
          },
          {
            id: '8e16478c-e61b-4d49-a806-d5c87e349370',
            name: 'cf_Automation_Field_Date20230314200123',
            column_name: 'cf_date005',
            label: 'Automation_Field_Date20230314200123',
            type: 17,
            field_options: {},
            custom: true,
            editable: true,
            position: 58,
            deleted: false,
            required: false,
            visible: true,
            column_type_blob: false,
            nodegroup_skip: false,
            validatable: false,
            builder: false,
            internal: false,
            choices: [],
            fields: [],
            regex: {},
            created_at: '2023-03-14 14:31:25',
            updated_at: '2023-03-14 14:31:25',
          },
          {
            id: '1a3fbebb-5bf9-4984-bc14-7fe53b1747ad',
            name: 'cf_Automation_Field_Date20230314200125',
            column_name: 'cf_date006',
            label: 'Automation_Field_Date20230314200125',
            type: 17,
            field_options: {},
            custom: true,
            editable: true,
            position: 59,
            deleted: false,
            required: false,
            visible: true,
            column_type_blob: false,
            nodegroup_skip: false,
            validatable: false,
            builder: false,
            internal: false,
            choices: [],
            fields: [],
            regex: {},
            created_at: '2023-03-14 14:31:27',
            updated_at: '2023-03-14 14:31:27',
          },
          {
            id: '5b50b59d-fa43-44d8-acf6-5dc7e9da18fa',
            name: 'cf_Automation_Field_Date20230314200126',
            column_name: 'cf_date007',
            label: 'Automation_Field_Date20230314200126',
            type: 17,
            field_options: {},
            custom: true,
            editable: true,
            position: 60,
            deleted: false,
            required: false,
            visible: true,
            column_type_blob: false,
            nodegroup_skip: false,
            validatable: false,
            builder: false,
            internal: false,
            choices: [],
            fields: [],
            regex: {},
            created_at: '2023-03-14 14:31:28',
            updated_at: '2023-03-14 14:31:28',
          },
          {
            id: '212166a0-59dc-4b3d-a912-25bac899a084',
            name: 'cf_Automation_Field_Date20230314200128',
            column_name: 'cf_date008',
            label: 'Automation_Field_Date20230314200128',
            type: 17,
            field_options: {},
            custom: true,
            editable: true,
            position: 61,
            deleted: false,
            required: false,
            visible: true,
            column_type_blob: false,
            nodegroup_skip: false,
            validatable: false,
            builder: false,
            internal: false,
            choices: [],
            fields: [],
            regex: {},
            created_at: '2023-03-14 14:31:29',
            updated_at: '2023-03-14 14:31:29',
          },
          {
            id: '944e446a-486f-48c3-8f47-cbf280d07abe',
            name: 'cf_Automation_Field_Date20230314200129',
            column_name: 'cf_date009',
            label: 'Automation_Field_Date20230314200129',
            type: 17,
            field_options: {},
            custom: true,
            editable: true,
            position: 62,
            deleted: false,
            required: false,
            visible: true,
            column_type_blob: false,
            nodegroup_skip: false,
            validatable: false,
            builder: false,
            internal: false,
            choices: [],
            fields: [],
            regex: {},
            created_at: '2023-03-14 14:31:31',
            updated_at: '2023-03-14 14:31:31',
          },
          {
            id: '7e8860a6-d301-412e-ad53-04e643e874be',
            name: 'cf_Automation_Field_Date20230314200130',
            column_name: 'cf_date010',
            label: 'Automation_Field_Date20230314200130',
            type: 17,
            field_options: {},
            custom: true,
            editable: true,
            position: 63,
            deleted: false,
            required: false,
            visible: true,
            column_type_blob: false,
            nodegroup_skip: false,
            validatable: false,
            builder: false,
            internal: false,
            choices: [],
            fields: [],
            regex: {},
            created_at: '2023-03-14 14:31:32',
            updated_at: '2023-03-14 14:31:32',
          },
          {
            id: '286cfb75-ccdb-4102-bd12-2f0306113e2d',
            name: 'cf_Automation_Field_Date20230314200132',
            column_name: 'cf_date011',
            label: 'Automation_Field_Date20230314200132',
            type: 17,
            field_options: {},
            custom: true,
            editable: true,
            position: 64,
            deleted: false,
            required: false,
            visible: true,
            column_type_blob: false,
            nodegroup_skip: false,
            validatable: false,
            builder: false,
            internal: false,
            choices: [],
            fields: [],
            regex: {},
            created_at: '2023-03-14 14:31:33',
            updated_at: '2023-03-14 14:31:33',
          },
          {
            id: '75bd36c1-153f-45b9-a733-a805d6942aef',
            name: 'cf_Automation_Field_Date20230314200133',
            column_name: 'cf_date012',
            label: 'Automation_Field_Date20230314200133',
            type: 17,
            field_options: {},
            custom: true,
            editable: true,
            position: 65,
            deleted: false,
            required: false,
            visible: true,
            column_type_blob: false,
            nodegroup_skip: false,
            validatable: false,
            builder: false,
            internal: false,
            choices: [],
            fields: [],
            regex: {},
            created_at: '2023-03-14 14:31:35',
            updated_at: '2023-03-14 14:31:35',
          },
          {
            id: '9aa027f3-eb75-42f2-acec-23387943cadb',
            name: 'cf_Automation_Field_Date20230314200134',
            column_name: 'cf_date013',
            label: 'Automation_Field_Date20230314200134',
            type: 17,
            field_options: {},
            custom: true,
            editable: true,
            position: 66,
            deleted: false,
            required: false,
            visible: true,
            column_type_blob: false,
            nodegroup_skip: false,
            validatable: false,
            builder: false,
            internal: false,
            choices: [],
            fields: [],
            regex: {},
            created_at: '2023-03-14 14:31:36',
            updated_at: '2023-03-14 14:31:36',
          },
          {
            id: '22ed5103-c3d3-4a4e-ba6d-58a99d1e3df0',
            name: 'cf_Automation_Field_Date20230314200136',
            column_name: 'cf_date014',
            label: 'Automation_Field_Date20230314200136',
            type: 17,
            field_options: {},
            custom: true,
            editable: true,
            position: 67,
            deleted: false,
            required: false,
            visible: true,
            column_type_blob: false,
            nodegroup_skip: false,
            validatable: false,
            builder: false,
            internal: false,
            choices: [],
            fields: [],
            regex: {},
            created_at: '2023-03-14 14:31:37',
            updated_at: '2023-03-14 14:31:37',
          },
          {
            id: '0511635c-f396-47fc-97e2-73ec75e44b6a',
            name: 'cf_Automation_Field_Date20230314200137',
            column_name: 'cf_date015',
            label: 'Automation_Field_Date20230314200137',
            type: 17,
            field_options: {},
            custom: true,
            editable: true,
            position: 68,
            deleted: false,
            required: false,
            visible: true,
            column_type_blob: false,
            nodegroup_skip: false,
            validatable: false,
            builder: false,
            internal: false,
            choices: [],
            fields: [],
            regex: {},
            created_at: '2023-03-14 14:31:39',
            updated_at: '2023-03-14 14:31:39',
          },
          {
            id: 'cae51f9c-0981-436f-9500-f1d7a257b6c2',
            name: 'cf_Automation_Field_Date20230314200139',
            column_name: 'cf_date016',
            label: 'Automation_Field_Date20230314200139',
            type: 17,
            field_options: {},
            custom: true,
            editable: true,
            position: 69,
            deleted: false,
            required: false,
            visible: true,
            column_type_blob: false,
            nodegroup_skip: false,
            validatable: false,
            builder: false,
            internal: false,
            choices: [],
            fields: [],
            regex: {},
            created_at: '2023-03-14 14:31:40',
            updated_at: '2023-03-14 14:31:40',
          },
          {
            id: 'b80747f9-29a0-4a7a-8e1f-714997579508',
            name: 'cf_Automation_Field_Date20230314200140',
            column_name: 'cf_date017',
            label: 'Automation_Field_Date20230314200140',
            type: 17,
            field_options: {},
            custom: true,
            editable: true,
            position: 70,
            deleted: false,
            required: false,
            visible: true,
            column_type_blob: false,
            nodegroup_skip: false,
            validatable: false,
            builder: false,
            internal: false,
            choices: [],
            fields: [],
            regex: {},
            created_at: '2023-03-14 14:31:42',
            updated_at: '2023-03-14 14:31:42',
          },
          {
            id: 'b4e90294-00a9-4618-840d-a2bd9e9070cc',
            name: 'cf_Automation_Field_Date20230314200141',
            column_name: 'cf_date018',
            label: 'Automation_Field_Date20230314200141',
            type: 17,
            field_options: {},
            custom: true,
            editable: true,
            position: 71,
            deleted: false,
            required: false,
            visible: true,
            column_type_blob: false,
            nodegroup_skip: false,
            validatable: false,
            builder: false,
            internal: false,
            choices: [],
            fields: [],
            regex: {},
            created_at: '2023-03-14 14:31:43',
            updated_at: '2023-03-14 14:31:43',
          },
          {
            id: '91263d14-6b77-4bdd-83c0-9beb9199f37e',
            name: 'cf_Automation_Field_Date20230314200143',
            column_name: 'cf_date019',
            label: 'Automation_Field_Date20230314200143',
            type: 17,
            field_options: {},
            custom: true,
            editable: true,
            position: 72,
            deleted: false,
            required: false,
            visible: true,
            column_type_blob: false,
            nodegroup_skip: false,
            validatable: false,
            builder: false,
            internal: false,
            choices: [],
            fields: [],
            regex: {},
            created_at: '2023-03-14 14:31:44',
            updated_at: '2023-03-14 14:31:44',
          },
          {
            id: 'a6b93761-9462-49ba-8fce-4f216f287625',
            name: 'cf_Automation_Field_Date20230314200144',
            column_name: 'cf_date020',
            label: 'Automation_Field_Date20230314200144',
            type: 17,
            field_options: {},
            custom: true,
            editable: true,
            position: 73,
            deleted: false,
            required: false,
            visible: true,
            column_type_blob: false,
            nodegroup_skip: false,
            validatable: false,
            builder: false,
            internal: false,
            choices: [],
            fields: [],
            regex: {},
            created_at: '2023-03-14 14:31:46',
            updated_at: '2023-03-14 14:31:46',
          },
          {
            id: '31e45af6-1fa5-4d56-997f-9a9096fa88a2',
            name: 'cf_Automation_Field_Date20230314200145',
            column_name: 'cf_date021',
            label: 'Automation_Field_Date20230314200145',
            type: 17,
            field_options: {},
            custom: true,
            editable: true,
            position: 74,
            deleted: false,
            required: false,
            visible: true,
            column_type_blob: false,
            nodegroup_skip: false,
            validatable: false,
            builder: false,
            internal: false,
            choices: [],
            fields: [],
            regex: {},
            created_at: '2023-03-14 14:31:47',
            updated_at: '2023-03-14 14:31:47',
          },
          {
            id: 'f2aea8b6-88c9-49d3-84bd-102b856213fa',
            name: 'cf_Automation_Field_Date20230314200147',
            column_name: 'cf_date022',
            label: 'Automation_Field_Date20230314200147',
            type: 17,
            field_options: {},
            custom: true,
            editable: true,
            position: 75,
            deleted: false,
            required: false,
            visible: true,
            column_type_blob: false,
            nodegroup_skip: false,
            validatable: false,
            builder: false,
            internal: false,
            choices: [],
            fields: [],
            regex: {},
            created_at: '2023-03-14 14:31:48',
            updated_at: '2023-03-14 14:31:48',
          },
          {
            id: '7e5a6226-8016-4efe-896d-a86a5ff4a7e6',
            name: 'cf_Automation_Field_Date20230314200148',
            column_name: 'cf_date023',
            label: 'Automation_Field_Date20230314200148',
            type: 17,
            field_options: {},
            custom: true,
            editable: true,
            position: 76,
            deleted: false,
            required: false,
            visible: true,
            column_type_blob: false,
            nodegroup_skip: false,
            validatable: false,
            builder: false,
            internal: false,
            choices: [],
            fields: [],
            regex: {},
            created_at: '2023-03-14 14:31:50',
            updated_at: '2023-03-14 14:31:50',
          },
          {
            id: '1f5eba80-55fc-4f0c-b187-a2557a0ec3d5',
            name: 'cf_Automation_Field_Date20230314200149',
            column_name: 'cf_date024',
            label: 'Automation_Field_Date20230314200149',
            type: 17,
            field_options: {},
            custom: true,
            editable: true,
            position: 77,
            deleted: false,
            required: false,
            visible: true,
            column_type_blob: false,
            nodegroup_skip: false,
            validatable: false,
            builder: false,
            internal: false,
            choices: [],
            fields: [],
            regex: {},
            created_at: '2023-03-14 14:31:51',
            updated_at: '2023-03-14 14:31:51',
          },
          {
            id: '4688fbec-c8e5-4457-b197-ad5f2fc71275',
            name: 'cf_Automation_Field_Date20230314200151',
            column_name: 'cf_date025',
            label: 'Automation_Field_Date20230314200151',
            type: 17,
            field_options: {},
            custom: true,
            editable: true,
            position: 78,
            deleted: false,
            required: false,
            visible: true,
            column_type_blob: false,
            nodegroup_skip: false,
            validatable: false,
            builder: false,
            internal: false,
            choices: [],
            fields: [],
            regex: {},
            created_at: '2023-03-14 14:31:53',
            updated_at: '2023-03-14 14:31:53',
          },
          {
            id: 'e7917da6-9a7c-45de-82a6-cb51c3c6651a',
            name: 'cf_Automation_Field_Date20230314200153',
            column_name: 'cf_date026',
            label: 'Automation_Field_Date20230314200153',
            type: 17,
            field_options: {},
            custom: true,
            editable: true,
            position: 79,
            deleted: false,
            required: false,
            visible: true,
            column_type_blob: false,
            nodegroup_skip: false,
            validatable: false,
            builder: false,
            internal: false,
            choices: [],
            fields: [],
            regex: {},
            created_at: '2023-03-14 14:31:54',
            updated_at: '2023-03-14 14:31:54',
          },
          {
            id: '60a94ca8-8660-455f-9732-68cd6df8dc1a',
            name: 'cf_Automation_Field_Date20230314200154',
            column_name: 'cf_date027',
            label: 'Automation_Field_Date20230314200154',
            type: 17,
            field_options: {},
            custom: true,
            editable: true,
            position: 80,
            deleted: false,
            required: false,
            visible: true,
            column_type_blob: false,
            nodegroup_skip: false,
            validatable: false,
            builder: false,
            internal: false,
            choices: [],
            fields: [],
            regex: {},
            created_at: '2023-03-14 14:31:56',
            updated_at: '2023-03-14 14:31:56',
          },
          {
            id: 'a6091a0c-260d-4a85-b97e-d05d09af69d6',
            name: 'cf_Automation_Field_Date20230314200155',
            column_name: 'cf_date028',
            label: 'Automation_Field_Date20230314200155',
            type: 17,
            field_options: {},
            custom: true,
            editable: true,
            position: 81,
            deleted: false,
            required: false,
            visible: true,
            column_type_blob: false,
            nodegroup_skip: false,
            validatable: false,
            builder: false,
            internal: false,
            choices: [],
            fields: [],
            regex: {},
            created_at: '2023-03-14 14:31:57',
            updated_at: '2023-03-14 14:31:57',
          },
          {
            id: 'b86ee757-5c18-4c6d-a277-6fd20465a266',
            name: 'cf_Automation_Field_Date20230314200157',
            column_name: 'cf_date029',
            label: 'Automation_Field_Date20230314200157',
            type: 17,
            field_options: {},
            custom: true,
            editable: true,
            position: 82,
            deleted: false,
            required: false,
            visible: true,
            column_type_blob: false,
            nodegroup_skip: false,
            validatable: false,
            builder: false,
            internal: false,
            choices: [],
            fields: [],
            regex: {},
            created_at: '2023-03-14 14:31:58',
            updated_at: '2023-03-14 14:31:58',
          },
          {
            id: 'e93dcead-c8c9-4447-8a66-50f08dc6a234',
            name: 'cf_Automation_Field_Date20230314200158',
            column_name: 'cf_date030',
            label: 'Automation_Field_Date20230314200158',
            type: 17,
            field_options: {},
            custom: true,
            editable: true,
            position: 83,
            deleted: false,
            required: false,
            visible: true,
            column_type_blob: false,
            nodegroup_skip: false,
            validatable: false,
            builder: false,
            internal: false,
            choices: [],
            fields: [],
            regex: {},
            created_at: '2023-03-14 14:32:00',
            updated_at: '2023-03-14 14:32:00',
          },
          {
            id: 'f4bd6c99-d60a-4f3a-96e6-1323c3bf54ca',
            name: 'cf_Automation_Field_Decimel20230314200236',
            column_name: 'cf_decimal001',
            label: 'Automation_Field_Decimel20230314200236',
            type: 13,
            field_options: {},
            custom: true,
            editable: true,
            position: 84,
            deleted: false,
            required: false,
            visible: true,
            column_type_blob: false,
            nodegroup_skip: false,
            validatable: false,
            builder: false,
            internal: false,
            choices: [],
            fields: [],
            regex: {},
            created_at: '2023-03-14 14:32:38',
            updated_at: '2023-03-14 14:32:38',
          },
          {
            id: '19680ca2-69b2-4c59-a56a-4188a15190ea',
            name: 'cf_sdsdds',
            column_name: 'cf_boolean001',
            label: 'sdsdds',
            type: 5,
            field_options: {
              unique: 'false',
              required_on_resolve: 'false',
            },
            custom: true,
            editable: true,
            position: 85,
            deleted: false,
            required: false,
            visible: true,
            column_type_blob: false,
            nodegroup_skip: false,
            validatable: false,
            builder: false,
            internal: false,
            choices: [],
            fields: [],
            regex: {},
            created_at: '2023-03-14 14:32:57',
            updated_at: '2023-03-14 14:32:57',
          },
          {
            id: '4d804b91-9963-4a30-b5b0-957c52552141',
            name: 'cf_checkboaas',
            column_name: 'cf_boolean004',
            label: 'checkboaas',
            type: 5,
            field_options: {
              unique: 'false',
              required_on_resolve: 'false',
            },
            custom: true,
            editable: true,
            position: 86,
            deleted: false,
            required: false,
            visible: true,
            column_type_blob: false,
            nodegroup_skip: false,
            validatable: false,
            builder: false,
            internal: false,
            choices: [],
            fields: [],
            regex: {},
            created_at: '2023-03-14 14:33:15',
            updated_at: '2023-03-14 14:33:15',
          },
          {
            id: '56689136-1c8e-4915-9f8e-f423b7de4991',
            name: 'cf_heyhasas',
            column_name: 'cf_boolean005',
            label: 'heyhasas',
            type: 5,
            field_options: {
              unique: 'false',
              required_on_resolve: 'false',
            },
            custom: true,
            editable: true,
            position: 87,
            deleted: false,
            required: false,
            visible: true,
            column_type_blob: false,
            nodegroup_skip: false,
            validatable: false,
            builder: false,
            internal: false,
            choices: [],
            fields: [],
            regex: {},
            created_at: '2023-03-14 14:33:21',
            updated_at: '2023-03-14 14:33:21',
          },
          {
            id: '8937a82b-e632-477d-8a7d-17e0d7c8cf17',
            name: 'cf_heye',
            column_name: 'cf_boolean003',
            label: 'heye',
            type: 5,
            field_options: {
              unique: 'false',
              required_on_resolve: 'false',
            },
            custom: true,
            editable: true,
            position: 88,
            deleted: false,
            required: false,
            visible: true,
            column_type_blob: false,
            nodegroup_skip: false,
            validatable: false,
            builder: false,
            internal: false,
            choices: [],
            fields: [],
            regex: {},
            created_at: '2023-03-14 14:33:09',
            updated_at: '2023-03-14 14:33:21',
          },
          {
            id: '3c626a62-31a7-4b12-b8ed-1e8856140b56',
            name: 'cf_sdsdds1',
            column_name: 'cf_boolean002',
            label: 'sdsdds1',
            type: 5,
            field_options: {
              unique: 'false',
              required_on_resolve: 'false',
            },
            custom: true,
            editable: true,
            position: 89,
            deleted: false,
            required: false,
            visible: true,
            column_type_blob: false,
            nodegroup_skip: false,
            validatable: false,
            builder: false,
            internal: false,
            choices: [],
            fields: [],
            regex: {},
            created_at: '2023-03-14 14:33:03',
            updated_at: '2023-03-14 14:33:21',
          },
          {
            id: 'e730c7d8-3e84-4887-8e8e-c555fc5e8d3a',
            name: 'cf_Automation_Field_Decimel20230314200238',
            column_name: 'cf_decimal002',
            label: 'Automation_Field_Decimel20230314200238',
            type: 13,
            field_options: {},
            custom: true,
            editable: true,
            position: 90,
            deleted: false,
            required: false,
            visible: true,
            column_type_blob: false,
            nodegroup_skip: false,
            validatable: false,
            builder: false,
            internal: false,
            choices: [],
            fields: [],
            regex: {},
            created_at: '2023-03-14 14:32:40',
            updated_at: '2023-03-14 14:33:21',
          },
          {
            id: 'b1bc1bc8-1739-4c3e-bab6-b9430a8c667e',
            name: 'cf_Automation_Field_Decimel20230314200239',
            column_name: 'cf_decimal003',
            label: 'Automation_Field_Decimel20230314200239',
            type: 13,
            field_options: {},
            custom: true,
            editable: true,
            position: 91,
            deleted: false,
            required: false,
            visible: true,
            column_type_blob: false,
            nodegroup_skip: false,
            validatable: false,
            builder: false,
            internal: false,
            choices: [],
            fields: [],
            regex: {},
            created_at: '2023-03-14 14:32:41',
            updated_at: '2023-03-14 14:33:21',
          },
          {
            id: '6f5c9731-11a9-4f5c-806b-4f20859fca76',
            name: 'cf_Automation_Field_Decimel20230314200241',
            column_name: 'cf_decimal004',
            label: 'Automation_Field_Decimel20230314200241',
            type: 13,
            field_options: {},
            custom: true,
            editable: true,
            position: 92,
            deleted: false,
            required: false,
            visible: true,
            column_type_blob: false,
            nodegroup_skip: false,
            validatable: false,
            builder: false,
            internal: false,
            choices: [],
            fields: [],
            regex: {},
            created_at: '2023-03-14 14:32:42',
            updated_at: '2023-03-14 14:33:21',
          },
          {
            id: '3fa7c883-aeee-415c-bc00-a45d1a7a36aa',
            name: 'cf_Automation_Field_Decimel20230314200242',
            column_name: 'cf_decimal005',
            label: 'Automation_Field_Decimel20230314200242',
            type: 13,
            field_options: {},
            custom: true,
            editable: true,
            position: 93,
            deleted: false,
            required: false,
            visible: true,
            column_type_blob: false,
            nodegroup_skip: false,
            validatable: false,
            builder: false,
            internal: false,
            choices: [],
            fields: [],
            regex: {},
            created_at: '2023-03-14 14:32:44',
            updated_at: '2023-03-14 14:33:21',
          },
          {
            id: 'a2dc05cf-985e-47da-b6d2-8fedb426b8fc',
            name: 'cf_Automation_Field_Decimel20230314200243',
            column_name: 'cf_decimal006',
            label: 'Automation_Field_Decimel20230314200243',
            type: 13,
            field_options: {},
            custom: true,
            editable: true,
            position: 94,
            deleted: false,
            required: false,
            visible: true,
            column_type_blob: false,
            nodegroup_skip: false,
            validatable: false,
            builder: false,
            internal: false,
            choices: [],
            fields: [],
            regex: {},
            created_at: '2023-03-14 14:32:45',
            updated_at: '2023-03-14 14:33:21',
          },
          {
            id: '20f19932-0615-406d-9fc2-35d000e8e8d0',
            name: 'cf_Automation_Field_Decimel20230314200245',
            column_name: 'cf_decimal007',
            label: 'Automation_Field_Decimel20230314200245',
            type: 13,
            field_options: {},
            custom: true,
            editable: true,
            position: 95,
            deleted: false,
            required: false,
            visible: true,
            column_type_blob: false,
            nodegroup_skip: false,
            validatable: false,
            builder: false,
            internal: false,
            choices: [],
            fields: [],
            regex: {},
            created_at: '2023-03-14 14:32:47',
            updated_at: '2023-03-14 14:33:21',
          },
          {
            id: '91b77f10-39b0-4903-a8f5-384dee4133bf',
            name: 'cf_Automation_Field_Decimel20230314200246',
            column_name: 'cf_decimal008',
            label: 'Automation_Field_Decimel20230314200246',
            type: 13,
            field_options: {},
            custom: true,
            editable: true,
            position: 96,
            deleted: false,
            required: false,
            visible: true,
            column_type_blob: false,
            nodegroup_skip: false,
            validatable: false,
            builder: false,
            internal: false,
            choices: [],
            fields: [],
            regex: {},
            created_at: '2023-03-14 14:32:48',
            updated_at: '2023-03-14 14:33:21',
          },
          {
            id: 'c8bda7a0-319d-49cf-9e91-5f23dac687e4',
            name: 'cf_Automation_Field_Decimel20230314200248',
            column_name: 'cf_decimal009',
            label: 'Automation_Field_Decimel20230314200248',
            type: 13,
            field_options: {},
            custom: true,
            editable: true,
            position: 97,
            deleted: false,
            required: false,
            visible: true,
            column_type_blob: false,
            nodegroup_skip: false,
            validatable: false,
            builder: false,
            internal: false,
            choices: [],
            fields: [],
            regex: {},
            created_at: '2023-03-14 14:32:49',
            updated_at: '2023-03-14 14:33:21',
          },
          {
            id: '74998b25-947c-48a2-b4eb-a42c497c599d',
            name: 'cf_Automation_Field_Decimel20230314200249',
            column_name: 'cf_decimal010',
            label: 'Automation_Field_Decimel20230314200249',
            type: 13,
            field_options: {},
            custom: true,
            editable: true,
            position: 98,
            deleted: false,
            required: false,
            visible: true,
            column_type_blob: false,
            nodegroup_skip: false,
            validatable: false,
            builder: false,
            internal: false,
            choices: [],
            fields: [],
            regex: {},
            created_at: '2023-03-14 14:32:51',
            updated_at: '2023-03-14 14:33:21',
          },
        ],
        created_at: '2023-03-14 13:20:09',
        updated_at: '2023-03-14 14:33:21',
      };

      var tabProducts = document.getElementById('tabProducts');
      var fb = document.getElementById('formBuilder');
      fb.productName = productName;
      fb.formValues = formValuesConvProps;
      fb.lookupTargetObjects = lookupTargets;
      // fb.formValues = formValues;
      // fb.role = 'trial';
      // fb.permission = { view: true, create: true, delete: true, edit: true };

      function create_UUID() {
        var dt = new Date().getTime();
        var uuid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(
          /[xy]/g,
          function (c) {
            var r = (dt + Math.random() * 16) % 16 | 0;
            dt = Math.floor(dt / 16);
            return (c == 'x' ? r : (r & 0x3) | 0x8).toString(16);
          }
        );
        return uuid;
      }

      function getFormValues() {
        if (productName === 'CONVERSATION_PROPERTIES') {
          return formValuesConvProps;
        }
        return formValues;
      }

      function setFormValues(value) {
        if (productName === 'CONVERSATION_PROPERTIES') {
          // for Dependent fields
          formValuesConvProps = value;
          return;
        }
        formValues = value;
      }

      fb.addEventListener('fwComposeNewField', (event) => {
        var objDetail = event.detail;
        var intAddedIndex = -1;
        var objFormValues = getFormValues();
        var arrFields = objFormValues.fields;
        var intIndex = objDetail.index;
        var objDefaultField = objDetail.fieldSchema;
        objDefaultField.isNew = true;
        objDefaultField.id = 'new-field';

        if (
          arrFields.length === 0 ||
          intIndex < 0 ||
          intIndex > arrFields.length
        ) {
          arrFields = [...arrFields, objDefaultField];
          intAddedIndex = arrFields.length - 1;
        } else {
          arrFields = [
            ...arrFields.slice(0, intIndex),
            objDefaultField,
            ...arrFields.slice(intIndex),
          ];
          intAddedIndex = intIndex;
        }

        if (intAddedIndex !== -1) {
          var objFormValues = getFormValues();
          objFormValues = { ...objFormValues, fields: arrFields };
          setFormValues(objFormValues);
          fb.formValues = objFormValues;
          fb.expandedFieldIndex = intAddedIndex;
        }
      });

      deleteNewLocalFieldAtIndex = (intIndex) => {
        var objFormValues = getFormValues();
        var arrFields = objFormValues.fields;
        if (
          arrFields &&
          arrFields.length > 0 &&
          intIndex < arrFields.length &&
          arrFields[intIndex]?.isNew === true
        ) {
          arrFields = [
            ...arrFields.slice(0, intIndex),
            ...arrFields.slice(intIndex + 1),
          ];
          objFormValues = { ...objFormValues, fields: arrFields };
          setFormValues(objFormValues);
          fb.formValues = objFormValues;
        }
      };

      fb.addEventListener('fwExpandField', (event) => {
        var objDetail = event.detail;
        var intIndex = objDetail.index;
        var boolExpanded = objDetail.expanded;
        fb.expandedFieldIndex = boolExpanded ? intIndex : -1;
        if (!boolExpanded && objDetail.isNew && intIndex > -1) {
          deleteNewLocalFieldAtIndex(intIndex);
        }
      });

      fb.addEventListener('fwDeleteField', (event) => {
        fb.loading = true;
        var objFormValues = getFormValues();
        var arrFields = objFormValues.fields;
        arrFields.splice(event.detail.index, 1);

        objFormValues = { ...objFormValues, fields: arrFields };
        setFormValues(objFormValues);
        fb.formValues = objFormValues;

        fb.loading = false;
      });

      // delete local field which was added if there are no fields present
      deleteNewFieldFromPayload = (arrFields) => {
        try {
          const intNewFieldIndex = arrFields.findIndex(
            (e) => e.id === 'new-field' && e.isNew === true
          );
          if (intNewFieldIndex > -1) {
            arrFields.splice(intNewFieldIndex, 1);
          }
        } catch (error) {}
      };

      fb.addEventListener('fwSaveField', (event) => {
        fb.loading = true;
        var objFormValues = getFormValues();
        var arrFields = objFormValues.fields;
        var objDetail = event.detail;
        var objSubmitFormValues = objDetail.value.type === 22 ? objDetail.value.fields[0] : objDetail.value;
        var boolNewField = objDetail.isNew;
        var intIndex = Object.prototype.hasOwnProperty.call(objDetail, 'index')
          ? objDetail.index
          : -1;
        var intAddedIndex = intIndex;
        var isPrimaryField = !!(
          Object.prototype.hasOwnProperty.call(
            objSubmitFormValues,
            'isPrimaryField'
          ) && objSubmitFormValues.isPrimaryField === true
        );
        var strFieldLabel = objSubmitFormValues.name;
        var strFieldType = !isPrimaryField
          ? objSubmitFormValues.type
          : 'PRIMARY';
        var boolFilterable = Object.prototype.hasOwnProperty.call(
          objSubmitFormValues,
          'filterable'
        )
          ? objSubmitFormValues.filterable
          : false;
        var boolUnique = Object.prototype.hasOwnProperty.call(
          objSubmitFormValues,
          'unique'
        )
          ? objSubmitFormValues.unique
          : false;
        var arrChoices =
          Object.prototype.hasOwnProperty.call(
            objSubmitFormValues,
            'choices'
          ) &&
          objSubmitFormValues.choices &&
          objSubmitFormValues.choices.length > 0
            ? [...objSubmitFormValues.choices]
            : [];

        var strRemovedSpecialChars = strFieldLabel.replace(
          /[^a-zA-Z0-9 ]/g,
          ''
        );

        var strGeneratedFieldName = strRemovedSpecialChars
          .split(' ')
          .join('_')
          .toLowerCase();

        var fields = objSubmitFormValues?.fields?.length
          ? objSubmitFormValues.fields
          : [];

        // make the api call to save the new/edited field data in the DB
        // Temp - updating local field
        var objUpdatedField = null;
        deleteNewFieldFromPayload(arrFields);

        if (boolNewField) {
          objUpdatedField = {
            id: '',
            name: '',
            label: '',
            type: '',
            required: false,
            filterable: false,
            editable: true,
            visible: false,
            deleted: false,
            link: null,
            placeholder: null,
            hint: null,
            field_options: { unique: false },
            searchable: true,
            parent_id: null,
            choices: [],
          };
          if (strFieldType === 'DECIMAL') {
            objUpdatedField.searchable = false;
          }
          // Name and ID Needs to be generated at the backend
          if (!objUpdatedField.name || objUpdatedField.name === '') {
            objUpdatedField.name = strGeneratedFieldName;
          }
          objUpdatedField.id = create_UUID();

          if (productName === 'CONVERSATION_PROPERTIES') {
            objUpdatedField.custom = true;
          }
        } else {
          if (
            arrFields &&
            intAddedIndex >= 0 &&
            intAddedIndex < arrFields.length
          ) {
            objUpdatedField = arrFields[intAddedIndex];
          } else {
            console.error('Field not found in entity object..');
            return null;
          }
        }

        var boolUpdateUniqueValue = true;
        if (strFieldType === 'RELATIONSHIP') {
          // update lookup relationship data if its a new Field
          if (boolNewField) {
            var objRelationshipValues = objSubmitFormValues.relationship;
            var objRelatedEntity = {
              isNative: false,
              text: objRelationshipValues.target, // display name of the related entity
              value: 1, // id of the related entity
            };
            objUpdatedField.related_entity_id = objRelatedEntity.id;
            objUpdatedField.relationship_name = strGeneratedFieldName; // needs to be unique within the entity
            objUpdatedField.child_relationship_name = `${strGeneratedFieldName}_${new Date().getTime()}`; // needs to be unique within the entity
            objUpdatedField.field_options.unique =
              objRelationshipValues.relationship === 'one_to_one';
          }
          boolUpdateUniqueValue = false;
        }

        if (fields.length) {
          objUpdatedField.fields = fields;
          objUpdatedField.field_options = { ...objUpdatedField.field_options, ...objSubmitFormValues.field_options };
        }

        function addLabel(data, label) {
          if (!data.label) {
            data.label = label;
          }

          if (data.fields && data.fields.length) {
            addLabel(data.fields[0], data.fields[0].name);
          }
        }

        addLabel(objUpdatedField, strFieldLabel);

        objUpdatedField.type = strFieldType;
        objUpdatedField.required = objSubmitFormValues.required;
        objUpdatedField.filterable = boolFilterable;
        objUpdatedField.choices = arrChoices;
        if (boolUpdateUniqueValue) {
          objUpdatedField.field_options.unique = boolUnique;
        }

        if (boolNewField) {
          // validate if the array is empty or the passed index is invalid - if true -push the element at the end of the array
          if (
            arrFields.length === 0 ||
            intIndex < 0 ||
            intIndex > arrFields.length
          ) {
            arrFields = [...arrFields, objUpdatedField];
            intAddedIndex = arrFields.length - 1;
          } else {
            // store the element at the passed index
            arrFields = [
              ...arrFields.slice(0, intIndex),
              objUpdatedField,
              ...arrFields.slice(intIndex),
            ];
            intAddedIndex = intIndex;
          }
        }

        fb.expandedFieldIndex = -1;

        objFormValues = { ...objFormValues, fields: arrFields };
        setFormValues(objFormValues);
        fb.formValues = objFormValues;

        fb.loading = false;
      });

      function deepCloneObject(objSource) {
        try {
          return JSON.parse(JSON.stringify(objSource));
        } catch (error) {
          console.log('error deep cloning object - ' + error);
          return {};
        }
      }

      fb.addEventListener('fwRepositionField', (event) => {
        var objDetail = event.detail;
        var intSourceIndex = objDetail.sourceIndex;
        var intTargetIndex = objDetail.targetIndex;
        if (intSourceIndex === intTargetIndex) {
          return;
        }
        var objPrePositionSource = deepCloneObject(getFormValues());
        try {
          var objFormValues = getFormValues();
          var arrFields = objFormValues.fields;

          var objField = arrFields.splice(intSourceIndex, 1)[0];
          arrFields.splice(intTargetIndex, 0, objField);

          objFormValues = { ...objFormValues, fields: arrFields };
          setFormValues(objFormValues);
          fb.formValues = objFormValues;

          // Set the below 2 lines for resetting the position
          // fb.formValues = objPrePositionSource;
          // fb.forceRenderFields();
        } catch (error) {
          console.error('Error in repositioning field ' + error);
        }
      });

      fb.addEventListener('fwSaveWidgetFields', (event) => {
        customizeWidgetFields = event.detail;
        fb.customizeWidgetFields = customizeWidgetFields;
        fb.isSavingCustomizeWidget = false;
      });

      tabProducts.addEventListener('fwChange', (event) => {
        const intTabIndex = event.detail.tabIndex;
        if (intTabIndex === 1 && productName !== 'CUSTOM_OBJECTS') {
          productName = 'CUSTOM_OBJECTS';
          fb.productName = productName;
          fb.formValues = formValues;
        } else if (
          intTabIndex === 0 &&
          productName !== 'CONVERSATION_PROPERTIES'
        ) {
          productName = 'CONVERSATION_PROPERTIES';
          fb.productName = productName;
          fb.formValues = formValuesConvProps;
        }
      });
    </script> -->
  </body>
</html>
